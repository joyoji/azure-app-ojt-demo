<!DOCTYPE html>
<html lang="ja">
<body>
    <style>
        fieldset{
            background-color: #f1f1f1;
            border: none;
            border-radius: 2px;
            margin-bottom: 12px;
            overflow: hidden;
            padding: 0 .625em;
        }

        label{
            cursor: pointer;
            display: inline-block;
            padding: 3px 6px;
            text-align: right;
            width: 150px;
            vertical-align: top;
        }

        input{
            font-size: inherit;
        }
   
    </style>

<!-- ProductID: <input id="ProductID" type="text" value="8"> <br> -->
<label for="Name" >Name:</label> <input id="product_Name" type="text" value="Surface Duo 2" size=80 align="left"><br>
<label for="Price" >Price:</label> <input id="product_Price" type="text" value="27000" size=80 align="left"> <br>
<label for="Quantity" >Quantity:</label> <input id="product_Quantity" type="text" value="8" size=80 align="left"> <br>
<label for="Category" >Category:</label>  <input id="category_Name" type="text" value="Mobile Device" size=80 align="left"> <br>
<label for="Description" >Description:</label> <textarea id="product_Description" cols="99" rows="10" align="left">bbbbb</textarea> <br>
<div>
    <button type="button" onclick="callapi();">Create</button>
</div>
<div id="result"></div>
<br><a href="index.html">Return</a></p>  

<script type="text/javascript">
    function callapi() { 
        //[{"product_ID":8,"product_Name":"Huawei1","product_Description":"bbbbbbb","product_Price":30,"product_Quantity":1000,"category_Name":"smartphone"}]
        // const obj = {"product_ID":8,"product_Name":"Huawei1","product_Description":"bbbbbbb","product_Price":30,"product_Quantity":2000,"category_Name":"smartphone"};
        var product = {};
        product.product_Name =  document.getElementById("product_Name").value ;
        product.product_Description = document.getElementById("product_Description").value;
        product.product_Price = document.getElementById("product_Price").value;
        product.product_Quantity = document.getElementById("product_Quantity").value;
        product.category_Name = document.getElementById("category_Name").value;                
        const method = "POST";
        const body = JSON.stringify(product);
        //alert("body is : " + body);        
        const headers = {
        'Accept': 'application/json',
        'Content-Type': 'application/json'
        };
        fetch('/api/product/',  {method, headers, body})
        .then(function(response) {
            if(response.ok) {
                message = 'Operation done: one product was added';
            }else{
                message = 'Operation failed with exception';   
            }
            var mainContainer = document.getElementById("result");
            mainContainer.innerHTML = message;
        });
      }


 </script>

</body>
</html>
